<div class="discovery-section" id="disc-scoping">
  <h3>Network Scoping Discovery</h3>
  <p>Use this tool to assess your network infrastructure and create a customized 802.1X deployment plan with network diagram.</p>
  
  <div class="scoping-section">
    <div class="scoping-options">
      <div class="scoping-type">
        <label>
          <input type="radio" name="scoping_type" value="basic" checked> 
          Basic Scoping
        </label>
        <label>
          <input type="radio" name="scoping_type" value="advanced"> 
          Advanced Scoping
        </label>
      </div>
      
      <!-- Basic Scoping Form -->
      <div id="basic-scoping">
        <div class="scoping-form">
          <div class="scoping-column">
            <h4>Network Scope</h4>
            <div class="count-input">
              <label for="locations-count">Number of Locations:</label>
              <input type="number" id="locations-count" value="1" min="1">
            </div>
            <div class="count-input">
              <label for="switches-count">Number of Switches:</label>
              <input type="number" id="switches-count" value="5" min="1">
            </div>
            <div class="count-input">
              <label for="endpoints-count">Total Endpoints:</label>
              <input type="number" id="endpoints-count" value="100" min="1">
            </div>
            
            <h4>Authentication Requirements</h4>
            <div class="eap-methods">
              <div class="eap-method-option">
                <label>
                  <input type="checkbox" class="eap-method" id="eap-tls" value="EAP-TLS"> 
                  EAP-TLS (Certificate-Based)
                </label>
                <div id="eap-tls-options" class="eap-method-options">
                  <div class="checkbox-group">
                    <label>
                      <input type="checkbox" id="eap-tls-existing-pki" checked> 
                      Existing PKI infrastructure
                    </label>
                  </div>
                </div>
              </div>
              <div class="eap-method-option">
                <label>
                  <input type="checkbox" class="eap-method" id="peap-mschap" value="PEAP-MSCHAPv2" checked> 
                  PEAP-MSCHAPv2 (Username/Password)
                </label>
                <div id="peap-mschap-options" class="eap-method-options">
                  <div class="checkbox-group">
                    <label>
                      <input type="checkbox" id="peap-server-validation" checked> 
                      Server Certificate Validation
                    </label>
                  </div>
                </div>
              </div>
              <div class="eap-method-option">
                <label>
                  <input type="checkbox" class="eap-method" id="eap-ttls" value="EAP-TTLS"> 
                  EAP-TTLS
                </label>
              </div>
              <div class="eap-method-option">
                <label>
                  <input type="checkbox" class="eap-method" id="eap-fast" value="EAP-FAST"> 
                  EAP-FAST
                </label>
              </div>
              <div class="eap-method-option">
                <label>
                  <input type="checkbox" class="eap-method" id="mab" value="MAB" checked> 
                  MAC Authentication Bypass (MAB)
                </label>
                <div id="mab-options" class="eap-method-options">
                  <div class="count-input">
                    <label for="mab-devices">Estimated MAB Devices:</label>
                    <input type="number" id="mab-devices" value="20" min="0">
                  </div>
                </div>
              </div>
            </div>
          </div>
          
          <div class="scoping-column">
            <h4>Network Equipment</h4>
            <div class="form-group">
              <label for="wireless-vendor">Wireless Vendor:</label>
              <select id="wireless-vendor">
                <option value="cisco">Cisco</option>
                <option value="aruba">Aruba</option>
                <option value="meraki">Meraki</option>
                <option value="ruckus">Ruckus</option>
                <option value="ubiquiti">Ubiquiti</option>
                <option value="extreme">Extreme</option>
                <option value="none">None (No Wireless)</option>
              </select>
            </div>
            
            <div class="form-group">
              <label for="switch-vendor">Switch Vendor:</label>
              <select id="switch-vendor">
                <option value="cisco">Cisco</option>
                <option value="aruba">Aruba/HPE</option>
                <option value="juniper">Juniper</option>
                <option value="extreme">Extreme</option>
                <option value="hp">HP</option>
                <option value="dell">Dell</option>
                <option value="fortinet">Fortinet</option>
              </select>
            </div>
            
            <h4>Administration</h4>
            <div class="checkbox-group">
              <label>
                <input type="checkbox" id="radius-admin" checked> 
                RADIUS Authentication
              </label>
            </div>
            <div class="checkbox-group">
              <label>
                <input type="checkbox" id="tacacs-admin" checked> 
                TACACS+ Device Administration
              </label>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Advanced Scoping Form -->
      <div id="advanced-scoping" style="display: none;">
        <div class="scoping-form">
          <div class="scoping-column">
            <h4>Network Infrastructure</h4>
            <div class="count-input">
              <label for="advanced-locations-count">Number of Locations:</label>
              <input type="number" id="advanced-locations-count" value="1" min="1">
            </div>
            <div class="count-input">
              <label for="advanced-switches-count">Number of Switches:</label>
              <input type="number" id="advanced-switches-count" value="5" min="1">
            </div>
            <div class="count-input">
              <label for="ap-count">Number of Wireless APs:</label>
              <input type="number" id="ap-count" value="10" min="0">
            </div>
            <div class="count-input">
              <label for="advanced-endpoints-count">Total Endpoints:</label>
              <input type="number" id="advanced-endpoints-count" value="100" min="1">
            </div>
            
            <h4>Wireless Infrastructure</h4>
            <div class="form-group">
              <label for="wireless-vendor">Wireless Vendor:</label>
              <select id="wireless-vendor">
                <option value="cisco">Cisco</option>
                <option value="aruba">Aruba</option>
                <option value="meraki">Meraki</option>
                <option value="ruckus">Ruckus</option>
                <option value="ubiquiti">Ubiquiti</option>
                <option value="extreme">Extreme</option>
                <option value="none">None (No Wireless)</option>
              </select>
            </div>
            <div class="form-group">
              <label for="wireless-model">Wireless Model:</label>
              <select id="wireless-model">
                <option value="aironet-1800">Aironet 1800 Series</option>
                <option value="aironet-2800">Aironet 2800 Series</option>
                <option value="aironet-3800">Aironet 3800 Series</option>
                <option value="catalyst-9100">Catalyst 9100 Series</option>
                <option value="catalyst-9800">Catalyst 9800 Controller</option>
              </select>
            </div>
            
            <h4>Wired Infrastructure</h4>
            <div class="form-group">
              <label for="switch-vendor">Switch Vendor:</label>
              <select id="switch-vendor">
                <option value="cisco">Cisco</option>
                <option value="aruba">Aruba/HPE</option>
                <option value="juniper">Juniper</option>
                <option value="extreme">Extreme</option>
                <option value="hp">HP</option>
                <option value="dell">Dell</option>
                <option value="fortinet">Fortinet</option>
              </select>
            </div>
            <div class="form-group">
              <label for="switch-model">Switch Model:</label>
              <select id="switch-model">
                <option value="catalyst-2960">Catalyst 2960 Series</option>
                <option value="catalyst-3650">Catalyst 3650 Series</option>
                <option value="catalyst-3850">Catalyst 3850 Series</option>
                <option value="catalyst-9200">Catalyst 9200 Series</option>
                <option value="catalyst-9300">Catalyst 9300 Series</option>
                <option value="catalyst-9400">Catalyst 9400 Series</option>
                <option value="catalyst-9500">Catalyst 9500 Series</option>
                <option value="nexus-3000">Nexus 3000 Series</option>
                <option value="nexus-5000">Nexus 5000 Series</option>
                <option value="nexus-7000">Nexus 7000 Series</option>
                <option value="nexus-9000">Nexus 9000 Series</option>
              </select>
            </div>
          </div>
          
          <div class="scoping-column">
            <h4>Client Devices</h4>
            <div class="count-input">
              <label for="laptop-count">Laptops:</label>
              <input type="number" id="laptop-count" value="50" min="0">
            </div>
            <div class="count-input">
              <label for="desktop-count">Desktops:</label>
              <input type="number" id="desktop-count" value="30" min="0">
            </div>
            <div class="count-input">
              <label for="voip-count">VoIP Phones:</label>
              <input type="number" id="voip-count" value="20" min="0">
            </div>
            <div class="count-input">
              <label for="printer-count">Printers/MFPs:</label>
              <input type="number" id="printer-count" value="5" min="0">
            </div>
            <div class="count-input">
              <label for="iot-count">IoT Devices:</label>
              <input type="number" id="iot-count" value="10" min="0">
            </div>
            <div class="count-input">
              <label for="security-count">Security Devices:</label>
              <input type="number" id="security-count" value="2" min="0">
            </div>
            <div class="checkbox-group">
              <label>
                <input type="checkbox" id="byod-enabled"> 
                BYOD Devices
              </label>
            </div>
            
            <h4>Authentication Methods</h4>
            <div class="eap-methods">
              <div class="eap-method-option">
                <label>
                  <input type="checkbox" class="eap-method" id="adv-eap-tls" value="EAP-TLS"> 
                  EAP-TLS (Certificate-Based)
                </label>
                <div id="adv-eap-tls-options" class="eap-method-options">
                  <div class="checkbox-group">
                    <label>
                      <input type="checkbox" id="adv-eap-tls-existing-pki" checked> 
                      Existing PKI infrastructure
                    </label>
                  </div>
                </div>
              </div>
              <div class="eap-method-option">
                <label>
                  <input type="checkbox" class="eap-method" id="adv-peap-mschap" value="PEAP-MSCHAPv2" checked> 
                  PEAP-MSCHAPv2 (Username/Password)
                </label>
              </div>
              <div class="eap-method-option">
                <label>
                  <input type="checkbox" class="eap-method" id="adv-eap-ttls" value="EAP-TTLS"> 
                  EAP-TTLS
                </label>
              </div>
              <div class="eap-method-option">
                <label>
                  <input type="checkbox" class="eap-method" id="adv-eap-fast" value="EAP-FAST"> 
                  EAP-FAST
                </label>
              </div>
              <div class="eap-method-option">
                <label>
                  <input type="checkbox" class="eap-method" id="adv-mab" value="MAB" checked> 
                  MAC Authentication Bypass (MAB)
                </label>
                <div id="adv-mab-options" class="eap-method-options">
                  <div class="count-input">
                    <label for="adv-mab-devices">Estimated MAB Devices:</label>
                    <input type="number" id="adv-mab-devices" value="20" min="0">
                  </div>
                  <div class="checkbox-group">
                    <label>
                      <input type="checkbox" id="adv-mab-printers" checked> 
                      Printers
                    </label>
                  </div>
                  <div class="checkbox-group">
                    <label>
                      <input type="checkbox" id="adv-mab-iot" checked> 
                      IoT Devices
                    </label>
                  </div>
                  <div class="checkbox-group">
                    <label>
                      <input type="checkbox" id="adv-mab-voip" checked> 
                      VoIP Phones
                    </label>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <div class="form-actions">
      <button type="button" onclick="generateNetworkDiagram()">Generate Deployment Plan</button>
    </div>
  </div>
  
  <div id="scoping-results" class="scoping-results">
    <!-- Results will be dynamically generated here -->
  </div>
</div>
<!-- Create vendor-specific options HTML -->
cat > vendor-specific-options.html << 'EOF'
<!-- Cisco IOS-XE Specific Options -->
<div id="cisco-ios-xe-options" class="vendor-specific">
  <h4>Cisco IOS-XE Specific Options</h4>
  <div class="checkbox-group">
    <label>
      <input type="checkbox" id="cisco-ibns2" checked> 
      Use IBNS 2.0 Policy Maps
    </label>
  </div>
  <div class="form-group">
    <label for="policy-map-name">Policy Map Name:</label>
    <input type="text" id="policy-map-name" value="WIRED_DOT1X_POLICY" placeholder="e.g., WIRED_DOT1X_POLICY">
  </div>
  <div class="checkbox-group">
    <label>
      <input type="checkbox" id="cisco-multi-auth" checked> 
      Enable Multi-Auth Host Mode
    </label>
  </div>
  <div class="checkbox-group">
    <label>
      <input type="checkbox" id="cisco-autoconf"> 
      Enable Auto-Configuration
    </label>
  </div>
  <div class="checkbox-group">
    <label>
      <input type="checkbox" id="cisco-device-tracking" checked> 
      Enable Device Tracking
    </label>
  </div>
</div>

<!-- Cisco NX-OS Specific Options -->
<div id="cisco-nx-os-options" class="vendor-specific">
  <h4>Cisco NX-OS Specific Options</h4>
  <div class="checkbox-group">
    <label>
      <input type="checkbox" id="nxos-source-interface" checked> 
      Specify Source Interface
    </label>
  </div>
  <div class="form-group" id="nxos-source-interface-group">
    <label for="nxos-mgmt-interface">Management Interface:</label>
    <input type="text" id="nxos-mgmt-interface" placeholder="e.g., mgmt0" value="mgmt0">
  </div>
  <div class="checkbox-group">
    <label>
      <input type="checkbox" id="nxos-dot1x-pae-filter"> 
      Enable DOT1X PAE Filter
    </label>
  </div>
  <div class="checkbox-group">
    <label>
      <input type="checkbox" id="nxos-cts" checked> 
      Enable Cisco TrustSec
    </label>
  </div>
</div>

<!-- Cisco WLC Specific Options -->
<div id="cisco-wlc-options" class="vendor-specific">
  <h4>Cisco WLC Specific Options</h4>
  <div class="form-group">
    <label for="wlc-wlan-id">WLAN ID:</label>
    <input type="number" id="wlc-wlan-id" value="1" min="1" max="16">
  </div>
  <div class="checkbox-group">
    <label>
      <input type="checkbox" id="wlc-aaa-override" checked> 
      Enable AAA Override
    </label>
  </div>
  <div class="checkbox-group">
    <label>
      <input type="checkbox" id="wlc-local-eap" checked> 
      Enable Local EAP
    </label>
  </div>
  <div class="checkbox-group">
    <label>
      <input type="checkbox" id="wlc-fast-transition"> 
      Enable 802.11r Fast Transition
    </label>
  </div>
</div>

<!-- Aruba AOS-CX Specific Options -->
<div id="aruba-aos-cx-options" class="vendor-specific">
  <h4>Aruba AOS-CX Specific Options</h4>
  <div class="form-group">
    <label for="aruba-auth-precedence">Authentication Precedence:</label>
    <select id="aruba-auth-precedence">
      <option value="dot1x-first">Dot1X First, then MAC Auth</option>
      <option value="mac-auth-first">MAC Auth First, then Dot1X</option>
      <option value="both">Both Methods Simultaneously</option>
    </select>
  </div>
  <div class="form-group">
    <label for="aruba-auth-failure">Authentication Failure Behavior:</label>
    <select id="aruba-auth-failure">
      <option value="strict">Strict (No access on failure)</option>
      <option value="fail-open">Fail Open (Allow access on failure)</option>
      <option value="fail-through">Fail Through (Try next method)</option>
    </select>
  </div>
  <div class="checkbox-group">
    <label>
      <input type="checkbox" id="aruba-cached-reauth" checked> 
      Enable Cached Reauthentication
    </label>
  </div>
</div>

<!-- Juniper EX Specific Options -->
<div id="juniper-ex-options" class="vendor-specific">
  <h4>Juniper EX Specific Options</h4>
  <div class="form-group">
    <label for="juniper-supplicant-mode">Supplicant Mode:</label>
    <select id="juniper-supplicant-mode">
      <option value="single">Single (One device per port)</option>
      <option value="multiple">Multiple (Multiple devices, first authenticates)</option>
      <option value="multiple-secure">Multiple-Secure (Each device authenticates)</option>
    </select>
  </div>
  <div class="checkbox-group">
    <label>
      <input type="checkbox" id="juniper-server-reject-vlan" checked> 
      Enable Server-Reject VLAN
    </label>
  </div>
  <div class="checkbox-group">
    <label>
      <input type="checkbox" id="juniper-nas-port-extended"> 
      Use Extended NAS-Port-ID Format
    </label>
  </div>
  <div class="checkbox-group">
    <label>
      <input type="checkbox" id="juniper-mac-radius-restrict" checked> 
      Enable MAC-RADIUS Restrict Mode
    </label>
  </div>
</div>

<!-- Extreme EXOS Specific Options -->
<div id="extreme-exos-options" class="vendor-specific">
  <h4>Extreme EXOS Specific Options</h4>
  <div class="form-group">
    <label for="extreme-netlogin-mode">NetLogin Mode:</label>
    <select id="extreme-netlogin-mode">
      <option value="dot1x">802.1X Only</option>
      <option value="mac">MAC Only</option>
      <option value="web-based">Web-Based</option>
      <option value="multiple" selected>Multiple Methods</option>
    </select>
  </div>
  <div class="checkbox-group">
    <label>
      <input type="checkbox" id="extreme-netlogin-mac-auth" checked> 
      Enable MAC-Based Authentication
    </label>
  </div>
  <div class="checkbox-group">
    <label>
      <input type="checkbox" id="extreme-mac-refresh-time"> 
      Enable MAC Refresh Timer
    </label>
  </div>
  <div class="form-group" id="extreme-mac-refresh-group" style="display:none;">
    <label for="extreme-mac-refresh">MAC Refresh Timer (seconds):</label>
    <input type="number" id="extreme-mac-refresh" value="300" min="60" max="86400">
  </div>
</div>
