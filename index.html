<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Dot1Xer Supreme – Multi-Step</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
  />
  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css"
  />
  <link rel="stylesheet" href="css/styles.css" />
</head>
<body>
  <div id="app" class="container-fluid">
    <header class="text-center p-3 text-white mb-4">
      <div class="d-flex justify-content-center align-items-center">
        <img src="assets/icons/supreme-logo.png" alt="Logo" style="height:50px; margin-right:15px;">
        <div>
          <h1>Dot1Xer Supreme</h1>
          <p class="mb-0">Multi-Step 802.1X Config Generator – Powered by Vue.js</p>
        </div>
      </div>
    </header>

    <div class="row">
      <!-- Sidebar -->
      <div class="col-md-3">
        <div class="card mb-3">
          <div class="card-header bg-primary text-white">Configuration Steps</div>
          <div class="list-group list-group-flush">
            <!-- One link per step -->
            <a href="#" class="list-group-item list-group-item-action"
               :class="{ active: currentStep==='platform' }"
               @click="currentStep='platform'">1. Platform Selection</a>
            <a href="#" class="list-group-item list-group-item-action"
               :class="{ active: currentStep==='basicInfo' }"
               @click="currentStep='basicInfo'">2. Basic Settings</a>
            <a href="#" class="list-group-item list-group-item-action"
               :class="{ active: currentStep==='aaa' }"
               @click="currentStep='aaa'">3. AAA Configuration</a>
            <a href="#" class="list-group-item list-group-item-action"
               :class="{ active: currentStep==='radius' }"
               @click="currentStep='radius'">4. RADIUS Servers</a>
            <a href="#" class="list-group-item list-group-item-action"
               :class="{ active: currentStep==='tacacs' }"
               @click="currentStep='tacacs'">5. TACACS+ Servers</a>
            <a href="#" class="list-group-item list-group-item-action"
               :class="{ active: currentStep==='dot1x' }"
               @click="currentStep='dot1x'">6. 802.1X Settings</a>
            <a href="#" class="list-group-item list-group-item-action"
               :class="{ active: currentStep==='coa' }"
               @click="currentStep='coa'">7. CoA Configuration</a>
            <a href="#" class="list-group-item list-group-item-action"
               :class="{ active: currentStep==='radsec' }"
               @click="currentStep='radsec'">8. RADSEC</a>
            <a href="#" class="list-group-item list-group-item-action"
               :class="{ active: currentStep==='deviceTracking' }"
               @click="currentStep='deviceTracking'">9. Device Tracking</a>
            <a href="#" class="list-group-item list-group-item-action"
               :class="{ active: currentStep==='ibns' }"
               @click="currentStep='ibns'">10. IBNS 2.0</a>
            <a href="#" class="list-group-item list-group-item-action"
               :class="{ active: currentStep==='portnox' }"
               @click="currentStep='portnox'">11. Portnox</a>
            <a href="#" class="list-group-item list-group-item-action"
               :class="{ active: currentStep==='aiAssist' }"
               @click="currentStep='aiAssist'">12. AI Assist</a>
          </div>
        </div>

        <div class="card">
          <div class="card-body">
            <!-- Progress bar -->
            <div class="progress mb-3">
              <div class="progress-bar bg-success" :style="{ width: progress + '%' }"></div>
            </div>
            <!-- Generate, Save, Load, Download -->
            <button class="btn btn-success w-100 mb-2" @click="generateConfig">
              Generate Configuration
            </button>
            <div class="btn-group w-100 mb-2">
              <button class="btn btn-outline-primary" @click="saveConfig">Save</button>
              <button class="btn btn-outline-secondary" @click="loadConfig">Load</button>
              <button class="btn btn-outline-dark" :disabled="!generatedConfig" @click="downloadConfig">
                Download
              </button>
            </div>
            <button class="btn btn-info w-100" :disabled="!generatedConfig" @click="currentStep='aiAssist'">
              AI Analysis
            </button>
          </div>
        </div>
      </div>

      <!-- Main content area -->
      <div class="col-md-9">
        <div class="card">
          <div class="card-body">
            <component :is="currentStep"
                       :config="config"
                       @update:config="updateConfig"
                       @next-step="goNextStep"
            ></component>
          </div>
        </div>

        <!-- Show generated config if available -->
        <div class="card mt-3" v-if="generatedConfig">
          <div class="card-header bg-success text-white d-flex justify-content-between align-items-center">
            Generated Configuration
            <button class="btn btn-sm btn-light" @click="copyToClipboard">Copy</button>
          </div>
          <div class="card-body">
            <pre class="config-output">{{ generatedConfig }}</pre>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Vue + Bootstrap -->
  <script src="https://cdn.jsdelivr.net/npm/vue@3.2.45/dist/vue.global.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

  <!-- Components -->
  <script src="js/components/platform.js"></script>
  <script src="js/components/basicInfo.js"></script>
  <script src="js/components/aaa.js"></script>
  <script src="js/components/radius.js"></script>
  <script src="js/components/tacacs.js"></script>
  <script src="js/components/dot1x.js"></script>
  <script src="js/components/coa.js"></script>
  <script src="js/components/radsec.js"></script>
  <script src="js/components/deviceTracking.js"></script>
  <script src="js/components/ibns.js"></script>
  <script src="js/components/portnox.js"></script>
  <script src="js/components/aiAssist.js"></script>

  <!-- Main App Logic -->
  <script src="js/app.js"></script>
</body>
</html>
