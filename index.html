<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Dot1Xer Supreme Configurator</title>
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>
  <header>
    <div class="logo-container">
      <img src="assets/icons/logo.png" alt="Dot1Xer Supreme Logo" class="logo">
    </div>
    <h1 class="title">Dot1Xer Supreme Configurator</h1>
  </header>
  
  <!-- Top Navigation Tabs -->
  <nav class="top-tabs">
    <button class="tab-btn active" onclick="showTab('configurator', this)">Configurator</button>
    <button class="tab-btn" onclick="showTab('ai', this)">AI Integration</button>
    <button class="tab-btn" onclick="showTab('reference', this)">Reference Architecture</button>
    <button class="tab-btn" onclick="showTab('discovery', this)">Environmental Discovery</button>
    <button class="tab-btn" onclick="showTab('help', this)">Help</button>
  </nav>
  
  <!-- Banner Image Below Tabs -->
  <div class="banner-container">
    <img src="assets/icons/banner.jpg" alt="Dot1Xer Supreme Banner" class="banner-image">
  </div>
  
  <!-- Configurator Tab Content -->
  <div class="tab-content" id="configurator">
    <h2>Configurator</h2>
    <p>Follow the steps below to generate your advanced AAA/802.1X configuration.</p>
    
    <div class="step-indicator">
      <div class="step active" data-step="1">Platform</div>
      <div class="step" data-step="2">Authentication</div>
      <div class="step" data-step="3">Servers</div>
      <div class="step" data-step="4">VLANs</div>
      <div class="step" data-step="5">Advanced</div>
      <div class="step" data-step="6">Preview</div>
    </div>
    
    <div id="error-message" class="error-message" style="display: none;"></div>
    
    <!-- Step 1: Platform Selection -->
    <div class="step-content" id="step-1">
      <h3>Step 1: Platform Selection</h3>
      
      <div class="form-group">
        <label for="vendor-select">Vendor:</label>
        <select id="vendor-select" name="vendor">
          <option value="cisco">Cisco</option>
          <option value="aruba">Aruba (HPE)</option>
          <option value="juniper">Juniper</option>
          <option value="fortinet">Fortinet</option>
          <option value="arista">Arista</option>
          <option value="extreme">Extreme Networks</option>
          <option value="huawei">Huawei</option>
          <option value="alcatel">Alcatel-Lucent</option>
          <option value="ubiquiti">Ubiquiti</option>
        </select>
      </div>
      
      <div class="form-group">
        <label for="platform-select">Platform:</label>
        <select id="platform-select" name="platform">
          <!-- Options populated dynamically based on vendor selection -->
          <option value="ios-xe">IOS-XE (Catalyst 9000)</option>
          <option value="ios">IOS (Classic)</option>
          <option value="nx-os">NX-OS (Nexus)</option>
          <option value="wlc">WLC 9800</option>
        </select>
      </div>
      
      <div class="platform-info">
        <h4>Platform Details</h4>
        <div id="platform-description">
          <p>Cisco IOS-XE supports IBNS 2.0 with advanced policy maps and both open and closed authentication modes.</p>
        </div>
      </div>
      
      <div class="nav-buttons">
        <button type="button" class="next-btn" onclick="goToStep(2)">Next</button>
      </div>
    </div>
    
    <!-- Step 2: Authentication Method -->
    <div class="step-content" id="step-2" style="display: none;">
      <h3>Step 2: Authentication Method</h3>
      
      <div class="form-group">
        <label for="auth-method">Authentication Method:</label>
        <select id="auth-method" name="auth_method">
          <option value="dot1x-mab">802.1X with MAB Fallback (Sequential)</option>
          <option value="concurrent">802.1X and MAB Concurrent</option>
          <option value="dot1x-only">802.1X Only</option>
          <option value="mab-only">MAC Authentication Only</option>
        </select>
      </div>
      
      <div class="form-group">
        <label>Authentication Mode:</label>
        <div class="radio-group">
          <label>
            <input type="radio" name="auth_mode" value="closed" checked> 
            Closed Mode (No access until authentication succeeds)
          </label>
          <label>
            <input type="radio" name="auth_mode" value="open"> 
            Open Mode (Allow limited access before authentication)
          </label>
        </div>
      </div>
      
      <div class="form-group">
        <label>Host Mode:</label>
        <select id="host-mode" name="host_mode">
          <option value="single-host">Single Host (One device per port)</option>
          <option value="multi-auth">Multi-Auth (Multiple devices, each authenticated)</option>
          <option value="multi-domain">Multi-Domain (One voice, one data device)</option>
          <option value="multi-host">Multi-Host (One auth for all devices)</option>
        </select>
      </div>
      
      <div class="nav-buttons">
        <button type="button" class="prev-btn" onclick="goToStep(1)">Previous</button>
        <button type="button" class="next-btn" onclick="goToStep(3)">Next</button>
      </div>
    </div>
    
    <!-- Step 3: Server Configuration -->
    <div class="step-content" id="step-3" style="display: none;">
      <h3>Step 3: Server Configuration</h3>
      
      <div class="tab-control">
        <button class="tab-control-btn active" onclick="showServerTab('radius-tab', this)">RADIUS</button>
        <button class="tab-control-btn" onclick="showServerTab('tacacs-tab', this)">TACACS+</button>
        <button class="tab-control-btn" onclick="showServerTab('radsec-tab', this)">RadSec</button>
      </div>
      
      <!-- RADIUS Tab Content -->
      <div class="server-tab" id="radius-tab">
        <h4>RADIUS Servers</h4>
        <div class="form-group">
          <label for="radius-server-group">Server Group Name:</label>
          <input type="text" id="radius-server-group" value="RADIUS-SERVERS" placeholder="e.g., RADIUS-SERVERS">
          
          <div class="row">
            <div class="col">
              <label for="radius-ip-1">Primary Server IP:</label>
              <input type="text" id="radius-ip-1" placeholder="e.g., 10.1.1.100">
            </div>
            <div class="col">
              <label for="radius-key-1">Primary Shared Secret:</label>
              <input type="password" id="radius-key-1" placeholder="Shared secret">
            </div>
          </div>
          
          <div class="row">
            <div class="col">
              <label for="radius-ip-2">Secondary Server IP:</label>
              <input type="text" id="radius-ip-2" placeholder="e.g., 10.1.1.101">
            </div>
            <div class="col">
              <label for="radius-key-2">Secondary Shared Secret:</label>
              <input type="password" id="radius-key-2" placeholder="Shared secret">
            </div>
          </div>
        </div>
        
        <div class="accordion">
          <div class="accordion-header" onclick="toggleAccordion(this)">
            <span>RADIUS Port Configuration</span>
            <span class="accordion-icon">+</span>
          </div>
          <div class="accordion-content">
            <div class="row">
              <div class="col">
                <label for="radius-auth-port">Authentication Port:</label>
                <input type="number" id="radius-auth-port" value="1812">
              </div>
              <div class="col">
                <label for="radius-acct-port">Accounting Port:</label>
                <input type="number" id="radius-acct-port" value="1813">
              </div>
            </div>
            <div class="col">
              <label for="radius-coa-port">CoA Port:</label>
              <input type="number" id="radius-coa-port" value="3799">
            </div>
          </div>
        </div>
        
        <div class="accordion">
          <div class="accordion-header" onclick="toggleAccordion(this)">
            <span>RADIUS Timeout & Retransmit</span>
            <span class="accordion-icon">+</span>
          </div>
          <div class="accordion-content">
            <div class="row">
              <div class="col">
                <label for="radius-timeout">Timeout (seconds):</label>
                <input type="number" id="radius-timeout" value="5">
              </div>
              <div class="col">
                <label for="radius-retransmit">Retransmit Count:</label>
                <input type="number" id="radius-retransmit" value="3">
              </div>
            </div>
            <div class="row">
              <div class="col">
                <label for="radius-deadtime">Dead Time (minutes):</label>
                <input type="number" id="radius-deadtime" value="15">
              </div>
            </div>
          </div>
        </div>
        
        <div class="accordion">
          <div class="accordion-header" onclick="toggleAccordion(this)">
            <span>Load Balancing Configuration</span>
            <span class="accordion-icon">+</span>
          </div>
          <div class="accordion-content">
            <div class="checkbox-group">
              <label>
                <input type="checkbox" id="radius-load-balance"> 
                Enable Load Balancing
              </label>
            </div>
            
            <div id="load-balance-options" style="display: none;">
              <label for="load-balance-method">Load Balance Method:</label>
              <select id="load-balance-method">
                <option value="least-outstanding">Least Outstanding</option>
                <option value="batch">Batch</option>
                <option value="simple">Simple Round-Robin</option>
              </select>
            </div>
          </div>
        </div>
        
        <div class="accordion">
          <div class="accordion-header" onclick="toggleAccordion(this)">
            <span>Server Testing</span>
            <span class="accordion-icon">+</span>
          </div>
          <div class="accordion-content">
            <div class="checkbox-group">
              <label>
                <input type="checkbox" id="radius-testing" checked> 
                Enable Automated Server Testing
              </label>
            </div>
            
            <div id="testing-options">
              <label for="testing-username">Testing Username:</label>
              <input type="text" id="testing-username" value="radius-test">
              
              <div class="checkbox-group">
                <label>
                  <input type="checkbox" id="testing-idle-time" checked> 
                  Enable Idle-Time Testing
                </label>
              </div>
              
              <div id="idle-time-options">
                <label for="idle-time">Idle Time (minutes):</label>
                <input type="number" id="idle-time" value="60">
              </div>
            </div>
          </div>
        </div>
        
        <div class="accordion">
          <div class="accordion-header" onclick="toggleAccordion(this)">
            <span>RADIUS Attributes</span>
            <span class="accordion-icon">+</span>
          </div>
          <div class="accordion-content">
            <div class="row">
              <div class="col">
                <div class="checkbox-group">
                  <label>
                    <input type="checkbox" id="attr-nas-ip" checked> 
                    Include NAS-IP-Address (4)
                  </label>
                </div>
                <div class="checkbox-group">
                  <label>
                    <input type="checkbox" id="attr-service-type" checked> 
                    Include Service-Type (6)
                  </label>
                </div>
              </div>
              <div class="col">
                <div class="checkbox-group">
                  <label>
                    <input type="checkbox" id="attr-framed-mtu"> 
                    Include Framed-MTU (12)
                  </label>
                </div>
                <div class="checkbox-group">
                  <label>
                    <input type="checkbox" id="attr-class" checked> 
                    Include Class (25)
                  </label>
                </div>
              </div>
            </div>
            
            <label for="mac-format">MAC Address Format:</label>
            <select id="mac-format">
              <option value="ietf">IETF (xx-xx-xx-xx-xx-xx)</option>
              <option value="cisco">Cisco (xxxx.xxxx.xxxx)</option>
              <option value="unformatted">Unformatted (xxxxxxxxxxxx)</option>
            </select>
            
            <div class="checkbox-group">
              <label>
                <input type="checkbox" id="mac-case" checked> 
                Use Uppercase for MAC Address
              </label>
            </div>
          </div>
        </div>
      </div>
      
      <!-- TACACS+ Tab Content -->
      <div class="server-tab" id="tacacs-tab" style="display: none;">
        <h4>TACACS+ Servers</h4>
        <div class="form-group">
          <label for="tacacs-server-group">Server Group Name:</label>
          <input type="text" id="tacacs-server-group" value="TACACS-SERVERS" placeholder="e.g., TACACS-SERVERS">
          
          <div class="row">
            <div class="col">
              <label for="tacacs-ip-1">Primary Server IP:</label>
              <input type="text" id="tacacs-ip-1" placeholder="e.g., 10.1.1.102">
            </div>
            <div class="col">
              <label for="tacacs-key-1">Primary Shared Secret:</label>
              <input type="password" id="tacacs-key-1" placeholder="Shared secret">
            </div>
          </div>
          
          <div class="row">
            <div class="col">
              <label for="tacacs-ip-2">Secondary Server IP:</label>
              <input type="text" id="tacacs-ip-2" placeholder="e.g., 10.1.1.103">
            </div>
            <div class="col">
              <label for="tacacs-key-2">Secondary Shared Secret:</label>
              <input type="password" id="tacacs-key-2" placeholder="Shared secret">
            </div>
          </div>
        </div>
        
        <div class="accordion">
          <div class="accordion-header" onclick="toggleAccordion(this)">
            <span>TACACS+ Options</span>
            <span class="accordion-icon">+</span>
          </div>
          <div class="accordion-content">
            <div class="row">
              <div class="col">
                <label for="tacacs-port">Port:</label>
                <input type="number" id="tacacs-port" value="49">
              </div>
              <div class="col">
                <label for="tacacs-timeout">Timeout (seconds):</label>
                <input type="number" id="tacacs-timeout" value="5">
              </div>
            </div>
            
            <div class="checkbox-group">
              <label>
                <input type="checkbox" id="tacacs-single-connection"> 
                Enable Single-Connection Mode
              </label>
            </div>
            
            <div class="checkbox-group">
              <label>
                <input type="checkbox" id="tacacs-directed-request"> 
                Enable Directed-Request Mode
              </label>
            </div>
          </div>
        </div>
        
        <div class="accordion">
          <div class="accordion-header" onclick="toggleAccordion(this)">
            <span>TACACS+ Authorization</span>
            <span class="accordion-icon">+</span>
          </div>
          <div class="accordion-content">
            <div class="checkbox-group">
              <label>
                <input type="checkbox" id="auth-exec" checked> 
                Enable EXEC Authorization
              </label>
            </div>
            
            <div class="checkbox-group">
              <label>
                <input type="checkbox" id="auth-commands" checked> 
                Enable Command Authorization
              </label>
            </div>
            
            <div id="command-auth-options">
              <div class="checkbox-group">
                <label>
                  <input type="checkbox" id="auth-commands-15" checked> 
                  Privilege Level 15 (Enable)
                </label>
              </div>
              
              <div class="checkbox-group">
                <label>
                  <input type="checkbox" id="auth-commands-1"> 
                  Privilege Level 1 (User)
                </label>
              </div>
            </div>
          </div>
        </div>
        
        <div class="accordion">
          <div class="accordion-header" onclick="toggleAccordion(this)">
            <span>TACACS+ Accounting</span>
            <span class="accordion-icon">+</span>
          </div>
          <div class="accordion-content">
            <div class="checkbox-group">
              <label>
                <input type="checkbox" id="acct-exec" checked> 
                Enable EXEC Session Accounting
              </label>
            </div>
            
            <div class="checkbox-group">
              <label>
                <input type="checkbox" id="acct-commands" checked> 
                Enable Command Accounting
              </label>
            </div>
            
            <div id="command-acct-options">
              <div class="checkbox-group">
                <label>
                  <input type="checkbox" id="acct-commands-15" checked> 
                  Privilege Level 15 (Enable)
                </label>
              </div>
              
              <div class="checkbox-group">
                <label>
                  <input type="checkbox" id="acct-commands-1"> 
                  Privilege Level 1 (User)
                </label>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- RadSec Tab Content -->
      <div class="server-tab" id="radsec-tab" style="display: none;">
        <h4>RADIUS over TLS (RadSec) Configuration</h4>
        <div class="form-group">
          <div class="row">
            <div class="col">
              <label for="radsec-ip">Server IP:</label>
              <input type="text" id="radsec-ip" placeholder="e.g., 10.1.1.104">
            </div>
            <div class="col">
              <label for="radsec-key">Shared Secret:</label>
              <input type="password" id="radsec-key" placeholder="Shared secret">
            </div>
          </div>
          
          <div class="row">
            <div class="col">
              <label for="radsec-port">TLS Port:</label>
              <input type="number" id="radsec-port" value="2083">
            </div>
          </div>
        </div>
        
        <div class="accordion">
          <div class="accordion-header" onclick="toggleAccordion(this)">
            <span>Certificate Configuration</span>
            <span class="accordion-icon">+</span>
          </div>
          <div class="accordion-content">
            <div class="row">
              <div class="col">
                <label for="client-trustpoint">Client Trustpoint:</label>
                <input type="text" id="client-trustpoint" placeholder="e.g., SWITCH-CERT">
              </div>
              <div class="col">
                <label for="server-trustpoint">Server Trustpoint:</label>
                <input type="text" id="server-trustpoint" placeholder="e.g., ISE-CERT">
              </div>
            </div>
            
            <div class="checkbox-group">
              <label>
                <input type="checkbox" id="use-dtls"> 
                Use DTLS instead of TLS
              </label>
            </div>
          </div>
        </div>
        
        <div class="accordion">
          <div class="accordion-header" onclick="toggleAccordion(this)">
            <span>Connection Parameters</span>
            <span class="accordion-icon">+</span>
          </div>
          <div class="accordion-content">
            <div class="row">
              <div class="col">
                <label for="tls-conn-timeout">Connection Timeout (sec):</label>
                <input type="number" id="tls-conn-timeout" value="10">
              </div>
              <div class="col">
                <label for="tls-idle-timeout">Idle Timeout (sec):</label>
                <input type="number" id="tls-idle-timeout" value="60">
              </div>
            </div>
            
            <div class="row">
              <div class="col">
                <label for="tls-retries">Retries:</label>
                <input type="number" id="tls-retries" value="3">
              </div>
              <div class="col">
                <label for="tls-watchdog">Watchdog Interval (sec):</label>
                <input type="number" id="tls-watchdog" value="30">
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <div class="nav-buttons">
        <button type="button" class="prev-btn" onclick="goToStep(2)">Previous</button>
        <button type="button" class="next-btn" onclick="goToStep(4)">Next</button>
      </div>
    </div>
    
    <!-- Step 4: VLAN Configuration -->
    <div class="step-content" id="step-4" style="display: none;">
      <h3>Step 4: VLAN Configuration</h3>
      
      <div class="form-group">
        <label for="data-vlan">Data VLAN: <span class="required">*</span></label>
        <input type="number" id="data-vlan" placeholder="e.g., 10" required>
        
        <label for="voice-vlan">Voice VLAN:</label>
        <input type="number" id="voice-vlan" placeholder="e.g., 20">
        
        <label for="guest-vlan">Guest VLAN:</label>
        <input type="number" id="guest-vlan" placeholder="e.g., 30">
        
        <label for="critical-vlan">Critical VLAN:</label>
        <input type="number" id="critical-vlan" placeholder="e.g., 40">
        
        <label for="auth-fail-vlan">Auth-Fail VLAN:</label>
        <input type="number" id="auth-fail-vlan" placeholder="e.g., 50">
      </div>
      
      <div class="accordion">
        <div class="accordion-header" onclick="toggleAccordion(this)">
          <span>Dynamic VLAN Assignment</span>
          <span class="accordion-icon">+</span>
        </div>
        <div class="accordion-content">
          <div class="checkbox-group">
            <label>
              <input type="checkbox" id="enable-dynamic-vlan" checked> 
              Enable Dynamic VLAN Assignment
            </label>
          </div>
          
          <div class="checkbox-group">
            <label>
              <input type="checkbox" id="override-voice-vlan"> 
              Allow RADIUS to Override Voice VLAN
            </label>
          </div>
        </div>
      </div>
      
      <div class="accordion">
        <div class="accordion-header" onclick="toggleAccordion(this)">
          <span>Pre-Authentication ACL</span>
          <span class="accordion-icon">+</span>
        </div>
        <div class="accordion-content">
          <div class="checkbox-group">
            <label>
              <input type="checkbox" id="enable-preauth-acl"> 
              Configure Pre-Authentication ACL
            </label>
          </div>
          
          <div id="preauth-acl-options" style="display: none;">
            <label for="preauth-acl-name">Pre-Auth ACL Name:</label>
            <input type="text" id="preauth-acl-name" placeholder="e.g., PREAUTH_ACL">
            
            <label for="preauth-acl-content">ACL Content:</label>
            <textarea id="preauth-acl-content" rows="5" placeholder="permit udp any any eq bootps
permit udp any any eq domain
permit tcp any any eq www
permit tcp any any eq 443"></textarea>
          </div>
        </div>
      </div>
      
      <div class="accordion">
        <div class="accordion-header" onclick="toggleAccordion(this)">
          <span>Dynamic ACL Assignment</span>
          <span class="accordion-icon">+</span>
        </div>
        <div class="accordion-content">
          <div class="checkbox-group">
            <label>
              <input type="checkbox" id="enable-dynamic-acl" checked> 
              Enable RADIUS-Assigned ACLs
            </label>
          </div>
          
          <div class="checkbox-group">
            <label>
              <input type="checkbox" id="enable-filter-id"> 
              Enable Filter-Id Attribute
            </label>
          </div>
        </div>
      </div>
      
      <div class="nav-buttons">
        <button type="button" class="prev-btn" onclick="goToStep(3)">Previous</button>
        <button type="button" class="next-btn" onclick="goToStep(5)">Next</button>
      </div>
    </div>
    
    <!-- Step 5: Advanced Options -->
    <div class="step-content" id="step-5" style="display: none;">
      <h3>Step 5: Advanced Options</h3>
      
      <div class="checkbox-group">
        <label>
          <input type="checkbox" id="use-mab" checked> 
          Enable MAC Authentication Bypass (MAB)
        </label>
        
        <label>
          <input type="checkbox" id="use-coa" checked> 
          Enable Change of Authorization (CoA)
        </label>
        
        <label>
          <input type="checkbox" id="use-local" checked> 
          Enable Local Authentication Fallback
        </label>
      </div>
      
      <div class="accordion">
        <div class="accordion-header" onclick="toggleAccordion(this)">
          <span>Authentication Timers</span>
          <span class="accordion-icon">+</span>
        </div>
        <div class="accordion-content">
          <div class="row">
            <div class="col">
              <label for="reauth-period">Reauthentication Period (seconds):</label>
              <input type="number" id="reauth-period" value="3600">
            </div>
            <div class="col">
              <label for="timeout-period">Server Timeout (seconds):</label>
              <input type="number" id="timeout-period" value="30">
            </div>
          </div>
          
          <div class="row">
            <div class="col">
              <label for="tx-period">TX Period (seconds):</label>
              <input type="number" id="tx-period" value="5">
            </div>
            <div class="col">
              <label for="quiet-period">Quiet Period (seconds):</label>
              <input type="number" id="quiet-period" value="60">
            </div>
          </div>
          
          <div class="row">
            <div class="col">
              <label for="max-reauth-req">Max Reauth Requests:</label>
              <input type="number" id="max-reauth-req" value="2">
            </div>
            <div class="col">
              <label for="max
              max-auth-req">Max Auth Attempts:</label>
              <input type="number" id="max-auth-req" value="3">
            </div>
          </div>
        </div>
      </div>
      
      <div class="accordion">
        <div class="accordion-header" onclick="toggleAccordion(this)">
          <span>Interface Configuration</span>
          <span class="accordion-icon">+</span>
        </div>
        <div class="accordion-content">
          <label for="interfaces">Interfaces (comma-separated):</label>
          <input type="text" id="interfaces" placeholder="e.g., GigabitEthernet1/0/1, GigabitEthernet1/0/2-48">
          
          <div class="checkbox-group">
            <label>
              <input type="checkbox" id="spanning-tree-portfast" checked> 
              Enable Spanning Tree PortFast
            </label>
          </div>
          
          <div class="checkbox-group">
            <label>
              <input type="checkbox" id="bpduguard" checked> 
              Enable BPDU Guard
            </label>
          </div>
        </div>
      </div>
      
      <div class="accordion">
        <div class="accordion-header" onclick="toggleAccordion(this)">
          <span>Logging & Monitoring</span>
          <span class="accordion-icon">+</span>
        </div>
        <div class="accordion-content">
          <div class="checkbox-group">
            <label>
              <input type="checkbox" id="enable-accounting" checked> 
              Enable Accounting
            </label>
          </div>
          
          <div class="checkbox-group">
            <label>
              <input type="checkbox" id="enable-logging"> 
              Enable Enhanced Logging
            </label>
          </div>
          
          <div class="checkbox-group">
            <label>
              <input type="checkbox" id="filter-excessive-logs" checked> 
              Filter Excessive Authentication Logs
            </label>
          </div>
        </div>
      </div>
      
      <div class="nav-buttons">
        <button type="button" class="prev-btn" onclick="goToStep(4)">Previous</button>
        <button type="button" class="next-btn" onclick="goToStep(6)">Next</button>
      </div>
    </div>
    
    <!-- Step 6: Configuration Preview -->
    <div class="step-content" id="step-6" style="display: none;">
      <h3>Step 6: Configuration Preview</h3>
      
      <div class="config-actions">
        <button type="button" id="generate-btn" onclick="generateConfiguration()">Generate Configuration</button>
        <button type="button" id="download-btn" onclick="downloadConfiguration()">Download</button>
        <button type="button" id="copy-btn" onclick="copyConfiguration()">Copy to Clipboard</button>
      </div>
      
      <div id="config-output-section">
        <pre id="config-output" class="config-output"></pre>
      </div>
      
      <div class="nav-buttons">
        <button type="button" class="prev-btn" onclick="goToStep(5)">Previous</button>
      </div>
    </div>
  </div>
  
  <!-- AI Integration Tab Content -->
  <div class="tab-content" id="ai" style="display:none">
    <h2>AI Integration</h2>
    <p>Ask our integrated AI for configuration review, troubleshooting tips, or optimization advice.</p>
    
    <div class="ai-chat-container">
      <div class="chat-history" id="chat-history">
        <!-- Initial AI greeting message -->
        <div class="ai-message">
          <div class="message-avatar">
            <img src="assets/icons/ai-avatar.png" alt="AI">
          </div>
          <div class="message-content">
            <p>Hello! I can help with your AAA/802.1X configuration. I can:</p>
            <ul>
              <li>Review your generated configuration for best practices</li>
              <li>Suggest optimizations for your specific environment</li>
              <li>Help troubleshoot common issues</li>
              <li>Explain complex configuration sections</li>
            </ul>
            <p>What would you like assistance with today?</p>
          </div>
        </div>
      </div>
      
      <div class="chat-input">
        <textarea id="ai-query" placeholder="Ask a question about your configuration..." rows="3"></textarea>
        <button id="send-query" onclick="sendAIQuery()">
          <img src="assets/icons/send.png" alt="Send">
        </button>
      </div>
      
      <div class="suggested-queries">
        <h4>Suggested Questions:</h4>
        <button class="query-suggestion" onclick="useQuerySuggestion(this)">Review my configuration for security issues</button>
        <button class="query-suggestion" onclick="useQuerySuggestion(this)">What's the difference between Open and Closed mode?</button>
        <button class="query-suggestion" onclick="useQuerySuggestion(this)">Explain the RADIUS CoA settings in my config</button>
        <button class="query-suggestion" onclick="useQuerySuggestion(this)">How can I optimize this for a large network?</button>
      </div>
    </div>
  </div>
  
  <!-- Reference Architecture Tab Content -->
  <div class="tab-content" id="reference" style="display:none">
    <h2>Reference Architecture</h2>
    
    <div class="reference-nav">
      <button class="ref-tab active" onclick="showRefTab('overview', this)">Overview</button>
      <button class="ref-tab" onclick="showRefTab('authentication', this)">Authentication Flow</button>
      <button class="ref-tab" onclick="showRefTab('vlan', this)">VLAN Assignment</button>
      <button class="ref-tab" onclick="showRefTab('radsec', this)">RadSec</button>
      <button class="ref-tab" onclick="showRefTab('coa', this)">CoA</button>
      <button class="ref-tab" onclick="showRefTab('vendors', this)">Vendor Specifics</button>
    </div>
    
    <div class="reference-content">
      <!-- Overview Section -->
      <div class="ref-section" id="ref-overview">
        <h3>802.1X and AAA Overview</h3>
        
        <div class="ref-diagram">
          <img src="assets/diagrams/802.1x-overview.png" alt="802.1X Overview Diagram">
        </div>
        
        <div class="ref-text">
          <h4>Key Components</h4>
          <ul>
            <li><strong>Supplicant:</strong> The endpoint device seeking network access.</li>
            <li><strong>Authenticator:</strong> The network device (switch/WLC) controlling port access.</li>
            <li><strong>Authentication Server:</strong> RADIUS server validating credentials (e.g., Cisco ISE, Aruba ClearPass).</li>
          </ul>
          
          <h4>Authentication Methods</h4>
          <ul>
            <li><strong>802.1X:</strong> Standards-based port authentication requiring a supplicant.</li>
            <li><strong>MAC Authentication Bypass (MAB):</strong> Fallback method using the device's MAC address as credentials.</li>
            <li><strong>WebAuth:</strong> Browser-based authentication for guest access.</li>
          </ul>
          
          <h4>Deployment Modes</h4>
          <ul>
            <li><strong>Open (Monitor) Mode:</strong> Authentication is performed but access is not restricted.</li>
            <li><strong>Low Impact Mode:</strong> Pre-authentication ACL restricts access until authentication.</li>
            <li><strong>Closed Mode:</strong> No access until successful authentication.</li>
          </ul>
        </div>
      </div>
      
      <!-- Authentication Flow Section -->
      <div class="ref-section" id="ref-authentication" style="display:none;">
        <h3>Authentication Flow</h3>
        
        <div class="ref-diagram">
          <img src="assets/diagrams/auth-flow-diagram.png" alt="Authentication Flow Diagram">
        </div>
        
        <div class="ref-text">
          <h4>802.1X Authentication Process</h4>
          <ol>
            <li>Device connects to switch port.</li>
            <li>Switch sends EAP-Request/Identity packet.</li>
            <li>Supplicant responds with EAP-Response/Identity.</li>
            <li>Switch forwards to RADIUS server in Access-Request.</li>
            <li>RADIUS server and supplicant exchange authentication messages through switch.</li>
            <li>RADIUS server sends Access-Accept with attributes or Access-Reject.</li>
            <li>Switch enforces authorization (VLAN, ACL, etc.).</li>
          </ol>
          
          <h4>MAB Process</h4>
          <ol>
            <li>Device connects to switch port.</li>
            <li>Switch sends EAP-Request/Identity packets (no response).</li>
            <li>After timeout, switch falls back to MAB.</li>
            <li>Switch captures device MAC address.</li>
            <li>Switch sends MAC as username/password to RADIUS.</li>
            <li>RADIUS server validates MAC and returns authorization.</li>
          </ol>
          
          <h4>Authentication Timers</h4>
          <ul>
            <li><strong>tx-period:</strong> Time between EAP retries (default: 30s)</li>
            <li><strong>max-reauth-req:</strong> Number of retry attempts (default: 2)</li>
            <li><strong>reauth-period:</strong> Time between periodic reauthentications (default: 3600s)</li>
          </ul>
        </div>
      </div>
      
      <!-- VLAN Assignment Section -->
      <div class="ref-section" id="ref-vlan" style="display:none;">
        <h3>VLAN Assignment</h3>
        
        <div class="ref-diagram">
          <img src="assets/diagrams/vlan-assignment.png" alt="VLAN Assignment Diagram">
        </div>
        
        <div class="ref-text">
          <h4>Dynamic VLAN Assignment</h4>
          <p>RADIUS servers can dynamically assign VLANs to authenticated clients using specific attributes in Access-Accept messages:</p>
          <ul>
            <li><strong>Tunnel-Type (64):</strong> Set to VLAN (13)</li>
            <li><strong>Tunnel-Medium-Type (65):</strong> Set to 802 (6)</li>
            <li><strong>Tunnel-Private-Group-ID (81):</strong> VLAN ID/name</li>
          </ul>
          
          <h4>Special Purpose VLANs</h4>
          <ul>
            <li><strong>Guest VLAN:</strong> For clients that fail 802.1X authentication</li>
            <li><strong>Auth-Fail VLAN:</strong> For clients that try 802.1X but fail due to invalid credentials</li>
            <li><strong>Critical VLAN:</strong> Used when RADIUS servers are unreachable</li>
            <li><strong>Voice VLAN:</strong> Special VLAN for IP phones (used with multi-domain)</li>
          </ul>
          
          <h4>VLAN Assignment Process</h4>
          <ol>
            <li>Client authenticates via 802.1X or MAB</li>
            <li>RADIUS server sends Access-Accept with VLAN attributes</li>
            <li>Switch applies VLAN to the port/client</li>
            <li>If RADIUS doesn't specify VLAN, configured access VLAN is used</li>
            <li>Voice VLAN can be statically configured or dynamically assigned</li>
          </ol>
        </div>
      </div>
      
      <!-- RadSec Section -->
      <div class="ref-section" id="ref-radsec" style="display:none;">
        <h3>RADIUS over TLS (RadSec)</h3>
        
        <div class="ref-diagram">
          <img src="assets/diagrams/radsec-diagram.png" alt="RadSec Diagram">
        </div>
        
        <div class="ref-text">
          <h4>What is RadSec?</h4>
          <p>RadSec (RADIUS over TLS/DTLS) provides encryption for RADIUS traffic, which is normally sent in plaintext. It secures authentication and accounting data between network devices and RADIUS servers.</p>
          
          <h4>Benefits of RadSec</h4>
          <ul>
            <li><strong>Encryption:</strong> Protects sensitive authentication data</li>
            <li><strong>Reliability:</strong> TCP-based transmission rather than UDP</li>
            <li><strong>Certificate-Based:</strong> Uses X.509 certificates for server/client authentication</li>
            <li><strong>Connection Persistence:</strong> Maintains long-lived connections</li>
          </ul>
          
          <h4>Implementation Considerations</h4>
          <ul>
            <li><strong>Certificate Management:</strong> Requires proper PKI infrastructure</li>
            <li><strong>TCP Port 2083:</strong> Standard RadSec port (vs. 1812/1813 for RADIUS)</li>
            <li><strong>Fallback:</strong> Can fall back to standard RADIUS if RadSec fails</li>
            <li><strong>TLS vs. DTLS:</strong> TLS is more common, DTLS available on some platforms</li>
          </ul>
        </div>
      </div>
      
      <!-- CoA Section -->
      <div class="ref-section" id="ref-coa" style="display:none;">
        <h3>Change of Authorization (CoA)</h3>
        
        <div class="ref-diagram">
          <img src="assets/diagrams/coa-diagram.png" alt="CoA Diagram">
        </div>
        
        <div class="ref-text">
          <h4>What is CoA?</h4>
          <p>Change of Authorization (CoA) allows a RADIUS server to dynamically change the authorization attributes of an active session without requiring the client to reauthenticate.</p>
          
          <h4>Common CoA Actions</h4>
          <ul>
            <li><strong>Session Termination:</strong> Disconnecting a client</li>
            <li><strong>VLAN Change:</strong> Moving a client to a different VLAN</li>
            <li><strong>ACL Application:</strong> Applying a new ACL to a session</li>
            <li><strong>Reauthentication:</strong> Forcing a client to reauthenticate</li>
          </ul>
          
          <h4>CoA Implementation</h4>
          <ul>
            <li><strong>UDP Port 3799:</strong> Standard CoA port</li>
            <li><strong>Shared Secret:</strong> Must match between NAS and RADIUS server</li>
            <li><strong>Session Identification:</strong> Uses session identifiers (e.g., MAC address)</li>
            <li><strong>Acknowledgment:</strong> Requires CoA-ACK or CoA-NAK response</li>
          </ul>
          
          <h4>Use Cases</h4>
          <ul>
            <li><strong>Posture Assessment:</strong> Changing access based on security posture</li>
            <li><strong>Time-Based Policies:</strong> Modifying access based on time of day</li>
            <li><strong>Administrator Action:</strong> Manual changes by security staff</li>
            <li><strong>Security Incident Response:</strong> Isolating compromised endpoints</li>
          </ul>
        </div>
      </div>
      
      <!-- Vendor Specifics Section -->
      <div class="ref-section" id="ref-vendors" style="display:none;">
        <h3>Vendor-Specific Implementations</h3>
        
        <div class="vendor-comparison">
          <h4>Key Differences Between Vendors</h4>
          <table class="vendor-table">
            <thead>
              <tr>
                <th>Feature</th>
                <th>Cisco IOS-XE</th>
                <th>Cisco NX-OS</th>
                <th>Aruba AOS-CX</th>
                <th>Juniper EX</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Authentication Methods</td>
                <td>dot1x, mab, webauth</td>
                <td>dot1x, mab</td>
                <td>dot1x, mac-auth</td>
                <td>dot1x, mac-radius</td>
              </tr>
              <tr>
                <td>Policy Framework</td>
                <td>IBNS 2.0 with policy-maps</td>
                <td>Basic dot1x commands</td>
                <td>port-access authenticator</td>
                <td>authentication-profiles</td>
              </tr>
              <tr>
                <td>Host Modes</td>
                <td>single/multi/multi-domain/multi-auth</td>
                <td>single/multi/multi-auth</td>
                <td>single/multi</td>
                <td>single/multiple/multiple-secure</td>
              </tr>
              <tr>
                <td>RadSec Support</td>
                <td>Yes (TLS/DTLS)</td>
                <td>Limited</td>
                <td>Yes</td>
                <td>Yes</td>
              </tr>
              <tr>
                <td>Dynamic ACL</td>
                <td>Filter-Id, ACL-Name, dACL</td>
                <td>Filter-Id, ACL-Name</td>
                <td>Dynamic filters</td>
                <td>filter-id</td>
              </tr>
            </tbody>
          </table>
          
          <h4>Command Structure Comparison</h4>
          <table class="vendor-table">
            <thead>
              <tr>
                <th>Command Purpose</th>
                <th>Cisco IOS-XE</th>
                <th>Aruba AOS-CX</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Enable 802.1X globally</td>
                <td>dot1x system-auth-control</td>
                <td>aaa authentication port-access dot1x</td>
              </tr>
              <tr>
                <td>Enable 802.1X on interface</td>
                <td>interface x<br>dot1x pae authenticator</td>
                <td>interface x<br>port-access authenticator</td>
              </tr>
              <tr>
                <td>MAB configuration</td>
                <td>mab (in policy-map)</td>
                <td>authentication precedence mac-auth</td>
              </tr>
              <tr>
                <td>Guest VLAN</td>
                <td>service-template GUEST_VLAN</td>
                <td>authentication guest-vlan</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Environmental Discovery Tab Content -->
  <div class="tab-content" id="discovery" style="display:none">
    <h2>Environmental Discovery</h2>
    <p>This tool helps analyze your network environment to automatically discover devices and AAA settings.</p>
    
    <div class="discovery-tabs">
      <button class="discovery-tab active" onclick="showDiscoveryTab('scan', this)">Network Scan</button>
      <button class="discovery-tab" onclick="showDiscoveryTab('import', this)">Import Configuration</button>
      <button class="discovery-tab" onclick="showDiscoveryTab('analyze', this)">Analysis</button>
      <button class="discovery-tab" onclick="showDiscoveryTab('report', this)">Report</button>
    </div>
    
    <div class="discovery-content">
      <!-- Network Scan Tab -->
      <div class="discovery-section" id="disc-scan">
        <h3>Network Scan</h3>
        
        <div class="form-group">
          <label for="scan-range">IP Range:</label>
          <input type="text" id="scan-range" placeholder="e.g., 10.1.1.0/24">
          
          <label for="scan-credentials">Credentials:</label>
          <select id="scan-credentials">
            <option value="">Select Credentials</option>
            <option value="new">Add New Credentials...</option>
          </select>
          
          <label for="scan-method">Scan Method:</label>
          <select id="scan-method">
            <option value="ping">Ping Sweep</option>
            <option value="snmp">SNMP</option>
            <option value="ssh">SSH</option>
            <option value="api">API</option>
          </select>
          
          <button type="button" id="start-scan" onclick="startNetworkScan()">Start Scan</button>
        </div>
        
        <div id="credentials-modal" class="modal" style="display: none;">
          <div class="modal-content">
            <span class="close-modal" onclick="closeCredentialsModal()">&times;</span>
            <h4>Add Network Credentials</h4>
            <div class="form-group">
              <label for="cred-name">Name:</label>
              <input type="text" id="cred-name" placeholder="e.g., Lab Network">
              
              <label for="cred-type">Type:</label>
              <select id="cred-type">
                <option value="ssh">SSH</option>
                <option value="snmp">SNMP</option>
                <option value="api">API Token</option>
              </select>
              
              <div id="ssh-creds">
                <label for="ssh-username">Username:</label>
                <input type="text" id="ssh-username">
                
                <label for="ssh-password">Password:</label>
                <input type="password" id="ssh-password">
                
                <div class="checkbox-group">
                  <label>
                    <input type="checkbox" id="ssh-enable"> 
                    Enable Mode Required
                  </label>
                </div>
                
                <div id="enable-creds" style="display: none;">
                  <label for="enable-password">Enable Password:</label>
                  <input type="password" id="enable-password">
                </div>
              </div>
              
              <div id="snmp-creds" style="display: none;">
                <label for="snmp-version">SNMP Version:</label>
                <select id="snmp-version">
                  <option value="v2c">SNMP v2c</option>
                  <option value="v3">SNMP v3</option>
                </select>
                
                <div id="snmp-v2-options">
                  <label for="snmp-community">Community String:</label>
                  <input type="password" id="snmp-community">
                </div>
                
                <div id="snmp-v3-options" style="display: none;">
                  <label for="snmp-username">Username:</label>
                  <input type="text" id="snmp-username">
                  
                  <label for="snmp-auth-type">Auth Type:</label>
                  <select id="snmp-auth-type">
                    <option value="sha">SHA</option>
                    <option value="md5">MD5</option>
                  </select>
                  
                  <label for="snmp-auth-pass">Auth Password:</label>
                  <input type="password" id="snmp-auth-pass">
                  
                  <label for="snmp-priv-type">Privacy Type:</label>
                  <select id="snmp-priv-type">
                    <option value="aes">AES</option>
                    <option value="des">DES</option>
                  </select>
                  
                  <label for="snmp-priv-pass">Privacy Password:</label>
                  <input type="password" id="snmp-priv-pass">
                </div>
              </div>
              
              <div id="api-creds" style="display: none;">
                <label for="api-token">API Token/Key:</label>
                <input type="password" id="api-token">
                
                <label for="api-url">API URL (Optional):</label>
                <input type="text" id="api-url" placeholder="e.g., https://10.1.1.100/api">
              </div>
              
              <button type="button" id="save-credentials" onclick="saveCredentials()">Save Credentials</button>
            </div>
          </div>
        </div>
        
        <div class="scan-results" style="display: none;">
          <h4>Scan Results:</h4>
          <div class="progress-bar">
            <div class="progress" style="width: 0%;"></div>
          </div>
          <div id="scan-status">Ready to scan</div>
          <table id="scan-results-table">
            <thead>
              <tr>
                <th>IP Address</th>
                <th>Device Type</th>
                <th>Platform</th>
                <th>Version</th>
                <th>AAA Status</th>
                <th>Action</th>
              </tr>
            </thead>
            <tbody>
              <!-- Results will be added here dynamically -->
            </tbody>
          </table>
        </div>
      </div>
      
      <!-- Import Configuration Tab -->
      <div class="discovery-section" id="disc-import" style="display:none;">
        <h3>Import Configuration</h3>
        
        <div class="form-group">
          <label>Configuration Source:</label>
          <div class="radio-group">
            <label>
              <input type="radio" name="import_source" value="file" checked> 
              Import from File
            </label>
            <label>
              <input type="radio" name="import_source" value="text"> 
              Paste Configuration Text
            </label>
          </div>
        </div>
        
        <div id="file-import">
          <div class="file-upload">
            <label for="config-file">Select Configuration File:</label>
            <input type="file" id="config-file">
          </div>
        </div>
        
        <div id="text-import" style="display:none;">
          <label for="config-text">Paste Configuration:</label>
          <textarea id="config-text" rows="10" placeholder="Paste device configuration here..."></textarea>
        </div>
        
        <div class="form-group">
          <label for="device-type">Device Type:</label>
          <select id="device-type">
            <option value="auto">Auto-detect</option>
            <option value="cisco-ios">Cisco IOS</option>
            <option value="cisco-ios-xe">Cisco IOS-XE</option>
            <option value="cisco-nx-os">Cisco NX-OS</option>
            <option value="aruba-aos-cx">Aruba AOS-CX</option>
            <option value="juniper-ex">Juniper EX</option>
            <!-- Add more options as needed -->
          </select>
        </div>
        
        <button type="button" id="analyze-config" onclick="analyzeConfiguration()">Analyze Configuration</button>
      </div>
      
      <!-- Analysis Tab -->
      <div class="discovery-section" id="disc-analyze" style="display:none;">
        <h3>Configuration Analysis</h3>
        
        <div id="analysis-waiting">
          <p>Import or scan your network to view analysis results.</p>
        </div>
        
        <div id="analysis-results" style="display:none;">
          <div class="analysis-summary">
            <h4>Summary:</h4>
            <div class="summary-stats">
              <div class="stat-box">
                <div class="stat-value" id="device-count">0</div>
                <div class="stat-label">Devices</div>
              </div>
              <div class="stat-box">
                <div class="stat-value" id="aaa-enabled-count">0</div>
                <div class="stat-label">AAA Enabled</div>
              </div>
              <div class="stat-box">
                <div class="stat-value" id="dot1x-enabled-count">0</div>
                <div class="stat-label">802.1X Enabled</div>
              </div>
              <div class="stat-box">
                <div class="stat-value" id="issues-count">0</div>
                <div class="stat-label">Issues</div>
              </div>
            </div>
          </div>
          
          <div class="analysis-details">
            <div class="accordion">
              <div class="accordion-header" onclick="toggleAccordion(this)">
                <span>Detected AAA Configuration</span>
                <span class="accordion-icon">+</span>
              </div>
              <div class="accordion-content">
                <div id="aaa-details">
                  <!-- AAA details will be populated here -->
                </div>
              </div>
            </div>
            
            <div class="accordion">
              <div class="accordion-header" onclick="toggleAccordion(this)">
                <span>RADIUS Servers</span>
                <span class="accordion-icon">+</span>
              </div>
              <div class="accordion-content">
                <div id="radius-details">
                  <!-- RADIUS server details will be populated here -->
                </div>
              </div>
            </div>
            
            <div class="accordion">
              <div class="accordion-header" onclick="toggleAccordion(this)">
                <span>802.1X Configuration</span>
                <span class="accordion-icon">+</span>
              </div>
              <div class="accordion-content">
                <div id="dot1x-details">
                  <!-- 802.1X details will be populated here -->
                </div>
              </div>
            </div>
            
            <div class="accordion">
              <div class="accordion-header" onclick="toggleAccordion(this)">
                <span>Issues and Recommendations</span>
                <span class="accordion-icon">+</span>
              </div>
              <div class="accordion-content">
                <div id="issues-details">
                  <!-- Issues and recommendations will be populated here -->
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Report Tab -->
      <div class="discovery-section" id="disc-report" style="display:none;">
        <h3>Network Assessment Report</h3>
        
        <div id="report-waiting">
          <p>Complete the analysis to generate a report.</p>
        </div>
        
        <div id="report-content" style="display:none;">
          <div class="report-actions">
            <button type="button" onclick="generatePDF()">Export as PDF</button>
            <button type="button" onclick="generateCSV()">Export as CSV</button>
            <button type="button" onclick="printReport()">Print</button>
          </div>
          
          <div class="report-preview">
            <h2>Network AAA/802.1X Assessment Report</h2>
            <p id="report-date">Date: March 30, 2025</p>
            
            <h3>Executive Summary</h3>
            <div id="exec-summary">
              <!-- Executive summary will be populated here -->
            </div>
            
            <h3>Device Summary</h3>
            <div id="device-summary">
              <!-- Device summary table will be populated here -->
            </div>
            
            <h3>Security Posture</h3>
            <div id="security-summary">
              <!-- Security posture information will be populated here -->
            </div>
            
            <h3>Detailed Findings</h3>
            <div id="detailed-findings">
              <!-- Detailed findings will be populated here -->
            </div>
            
            <h3>Recommendations</h3>
            <div id="recommendations">
              <!-- Recommendations will be populated here -->
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Help Tab Content -->
  <div class="tab-content" id="help" style="display:none">
    <h2>Help & Documentation</h2>
    
    <div class="help-tabs">
      <button class="help-tab active" onclick="showHelpTab('getting-started', this)">Getting Started</button>
      <button class="help-tab" onclick="showHelpTab('vendor-docs', this)">Vendor Documentation</button>
      <button class="help-tab" onclick="showHelpTab('faq', this)">FAQ</button>
      <button class="help-tab" onclick="showHelpTab('troubleshooting', this)">Troubleshooting</button>
    </div>
    
    <div class="help-content">
      <!-- Getting Started Section -->
      <div class="help-section" id="help-getting-started">
        <h3>Getting Started with Dot1Xer Supreme</h3>
        
        <div class="help-card">
          <h4>Quick Start Guide</h4>
          <ol>
            <li><strong>Choose Your Platform:</strong> Select your network device vendor and platform.</li>
            <li><strong>Configure Authentication:</strong> Select 802.1X, MAB, or both, and choose Open or Closed mode.</li>
            <li><strong>Set Up Servers:</strong> Add your RADIUS servers and optionally configure TACACS+ or RadSec.</li>
            <li><strong>Define VLANs:</strong> Configure your Data, Voice, Guest, and Critical VLANs.</li>
            <li><strong>Advanced Options:</strong> Set timers, add interfaces, and configure additional features.</li>
            <li><strong>Generate Configuration:</strong> Preview and download your configuration.</li>
          </ol>
        </div>
        
        <div class="help-card">
          <h4>Using the Tabs</h4>
          <ul>
            <li><strong>Configurator:</strong> Generate device configurations based on your requirements.</li>
            <li><strong>AI Integration:</strong> Get assistance with configuration optimization and troubleshooting.</li>
            <li><strong>Reference Architecture:</strong> View detailed diagrams and best practices.</li>
            <li><strong>Environmental Discovery:</strong> Analyze your existing network devices.</li>
            <li><strong>Help:</strong> Access documentation and troubleshooting guides.</li>
          </ul>
        </div>
        
        <div class="help-card">
          <h4>Deployment Recommendations</h4>
          <p>For new 802.1X deployments, we recommend a phased approach:</p>
          <ol>
            <li><strong>Monitor Mode:</strong> Start with Open Authentication to monitor devices without impacting connectivity.</li>
            <li><strong>Low Impact Mode:</strong> Implement pre-authentication ACLs to restrict access while allowing essential services.</li>
            <li><strong>Closed Mode:</strong> Once all legitimate devices can authenticate successfully, transition to full enforcement.</li>
          </ol>
        </div>
      </div>
      
      <!-- Vendor Documentation Section -->
      <div class="help-section" id="help-vendor-docs" style="display:none;">
        <h3>Vendor Documentation</h3>
        
        <div class="vendor-docs">
          <div class="vendor-card">
            <img src="assets/icons/cisco-logo.png" alt="Cisco">
            <h4>Cisco</h4>
            <ul>
              <li><a href="https://www.cisco.com/c/en/us/td/docs/switches/lan/catalyst9300/software/release/17-3/configuration_guide/sec/b_173_sec_9300_cg/configuring_ieee_802_1x_port_based_authentication.html" target="_blank">802.1X Configuration Guide (IOS-XE)</a></li>
              <li><a href="https://www.wiresandwi.fi/blog/solid-config-cisco-ibns-2-0-802-1x-mab-switch-configuration-ios-xe" target="_blank">IBNS 2.0 Configuration Examples</a></li>
              <li><a href="https://www.cisco.com/c/en/us/td/docs/switches/lan/catalyst9300/software/release/17-3/configuration_guide/sec/b_173_sec_9300_cg/configuring_radsec.html" target="_blank">RadSec Configuration Guide</a></li>
              <li><a href="https://www.cisco.com/c/en/us/td/docs/switches/datacenter/nexus9000/sw/93x/security/configuration/guide/b-cisco-nexus-9000-nx-os-security-configuration-guide-93x/b-cisco-nexus-9000-nx-os-security-configuration-guide-93x_chapter_01001.html" target="_blank">NX-OS 802.1X Configuration</a></li>
            </ul>
          </div>
          
          <div class="vendor-card">
            <img src="assets/icons/aruba-logo.png" alt="Aruba">
            <h4>Aruba (HPE)</h4>
            <ul>
              <li><a href="https://arubanetworking.hpe.com/techdocs/AOS-CX/10.08/HTML/security_4100i-6000-6100/Content/Chp_Port_acc/PortAcc8021x+MAC_CfgEg.htm" target="_blank">AOS-CX 802.1X Configuration Examples</a></li>
              <li><a href="https://mytechmemo.net/simple-802-1x-authentication-on-aos-cx/" target="_blank">Simple 802.1X Authentication on AOS-CX</a></li>
              <li><a href="https://www.arubanetworks.com/techdocs/central/2.5.5/content/nms/aos-cx/cfg/conf-cx-auth.htm" target="_blank">Configuring Authentication for AOS-CX</a></li>
            </ul>
          </div>
          
          <div class="vendor-card">
            <img src="assets/icons/juniper-logo.png" alt="Juniper">
            <h4>Juniper</h4>
            <ul>
              <li><a href="https://www.juniper.net/documentation/us/en/software/nce/nce-157-aruba-dot1x-mac-configuring/topics/example/nce157-example-aruba-dot1x-mac.html" target="_blank">802.1X-PEAP and MAC Authentication with ClearPass</a></li>
              <li><a href="https://docs.portnox.com/topics/nas_switches_aruba" target="_blank">Ethernet 802.1X Configuration</a></li>
            </ul>
          </div>
          
          <!-- Add more vendor cards as needed -->
        </div>
      </div>
      
      <!-- FAQ Section -->
      <div class="help-section" id="help-faq" style="display:none;">
        <h3>Frequently Asked Questions</h3>
        
        <div class="faq-list">
          <div class="faq-item">
            <div class="faq-question" onclick="toggleFaq(this)">
              What is the difference between Open and Closed authentication modes?
              <span class="faq-toggle">+</span>
            </div>
            <div class="faq-answer">
              <p><strong>Open Authentication Mode</strong> allows traffic to pass through the port before authentication completes. This is useful during deployment to avoid disrupting network access while monitoring authentication status.</p>
              <p><strong>Closed Authentication Mode</strong> blocks all traffic until successful authentication. This provides stronger security but can disrupt connectivity for devices that cannot authenticate.</p>
            </div>
          </div>
          
          <div class="faq-item">
            <div class="faq-question" onclick="toggleFaq(this)">
              What is MAB (MAC Authentication Bypass) and when should I use it?
              <span class="faq-toggle">+</span>
            </div>
            <div class="faq-answer">
              <p>MAC Authentication Bypass (MAB) is an alternative authentication method that uses the device's MAC address as credentials when 802.1X authentication is not supported by the endpoint.</p>
              <p>Use MAB for devices that don't have 802.1X supplicants, such as printers, IP phones, IoT devices, or legacy equipment. MAB is typically configured as a fallback method after 802.1X authentication fails or times out.</p>
              <p>Note that MAB is less secure than 802.1X since MAC addresses can be spoofed. It should be used judiciously and with appropriate security controls.</p>
            </div>
          </div>
          
          <div class="faq-item">
            <div class="faq-question" onclick="toggleFaq(this)">
              What is RadSec and why should I use it?
              <span class="faq-toggle">+</span>
            </div>
            <div class="faq-answer">
              <p>RadSec (RADIUS over TLS/DTLS) provides encryption for RADIUS traffic, which is normally sent in plaintext. It secures authentication and accounting data between network devices and RADIUS servers.</p>
              <p>You should use RadSec when:</p>
              <ul>
                <li>RADIUS traffic traverses untrusted networks</li>
                <li>You need to comply with security standards that require encryption of authentication data</li>
                <li>You want to protect sensitive credentials and authorization information</li>
                <li>You need reliable RADIUS communication over potentially lossy networks (DTLS version)</li>
              </ul>
              <p>RadSec requires certificate management but provides significantly improved security for your AAA infrastructure.</p>
            </div>
          </div>
          
          <div class="faq-item">
            <div class="faq-question" onclick="toggleFaq(this)">
              What host modes are available and which should I choose?
              <span class="faq-toggle">+</span>
            </div>
            <div class="faq-answer">
              <p>There are several host modes available for 802.1X authentication:</p>
              <ul>
                <li><strong>Single-Host Mode:</strong> Only one device is allowed on the port. Any additional MAC address causes a security violation.</li>
                <li><strong>Multi-Host Mode:</strong> Multiple devices are allowed, but only the first device needs to authenticate. This is less secure.</li>
                <li><strong>Multi-Domain Mode:</strong> Allows one device in the data domain and one in the voice domain (ideal for IP phone + PC configurations).</li>
                <li><strong>Multi-Auth Mode:</strong> Multiple devices are allowed, and each must authenticate separately.</li>
              </ul>
              <p>Choose based on your needs:</p>
              <ul>
                <li>For workstations: Single-Host or Multi-Auth</li>
                <li>For IP phones with attached PCs: Multi-Domain</li>
                <li>For conference rooms or shared areas: Multi-Auth</li>
              </ul>
            </div>
          </div>
          
          <div class="faq-item">
            <div class="faq-question" onclick="toggleFaq(this)">
              What is Change of Authorization (CoA) and why is it important?
              <span class="faq-toggle">+</span>
            </div>
            <div class="faq-answer">
              <p>Change of Authorization (CoA) is a RADIUS extension (RFC 5176) that allows a RADIUS server to dynamically change the authorization attributes of an authenticated session.</p>
              <p>With CoA, the RADIUS server can:</p>
              <ul>
                <li>Change a user's VLAN assignment mid-session</li>
                <li>Apply or remove access control lists</li>
                <li>Terminate a session (disconnect)</li>
                <li>Force reauthentication</li>
              </ul>
              <p>CoA is essential for dynamic policy enforcement, especially when using posture assessment or when security conditions change during a session.</p>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Troubleshooting Section -->
      <div class="help-section" id="help-troubleshooting" style="display:none;">
        <h3>Troubleshooting</h3>
        
        <div class="troubleshooting-section">
          <h4>Common Issues and Solutions</h4>
          
          <div class="issue-item">
            <h5>Authentication Failures</h5>
            <div class="issue-description">
              <p><strong>Symptoms:</strong> Devices cannot authenticate, "Access-Reject" messages from RADIUS server</p>
              <p><strong>Potential Causes:</strong></p>
              <ul>
                <li>Incorrect RADIUS shared secret</li>
                <li>Invalid user credentials</li>
                <li>Network device not authorized in RADIUS server</li>
                <li>EAP method mismatch</li>
                <li>Certificate issues (for EAP-TLS, PEAP, etc.)</li>
              </ul>
              <p><strong>Solutions:</strong></p>
              <ul>
                <li>Verify shared secret matches between network device and RADIUS server</li>
                <li>Check user account status in authentication database</li>
                <li>Ensure network device (NAS) is authorized as a RADIUS client</li>
                <li>Verify supported EAP methods are correctly configured</li>
                <li>Check certificate validity, trust chain, and expiration</li>
              </ul>
              <p><strong>Debugging Commands:</strong></p>
              <ul>
                <li>Cisco: <code>debug dot1x all</code>, <code>debug radius authentication</code></li>
                <li>Aruba AOS-CX: <code>show port-access clients</code>, <code>show port-access supplicants</code></li>
                <li>Juniper: <code>show dot1x interface</code>, <code>show dot1x authentication-failed-users</code></li>
              </ul>
            </div>
          </div>
          
          <div class="issue-item">
            <h5>RADIUS Connectivity Issues</h5>
            <div class="issue-description">
              <p><strong>Symptoms:</strong> "RADIUS server unreachable" errors, authentication timeouts</p>
              <p><strong>Potential Causes:</strong></p>
              <ul>
                <li>Network routing or firewall issues</li>
                <li>Incorrect RADIUS server IP or port</li>
                <li>UDP port filtering</li>
                <li>RADIUS server down or overloaded</li>
              </ul>
              <p><strong>Solutions:</strong></p>
              <ul>
                <li>Verify network connectivity (ping, traceroute)</li>
                <li>Check firewall rules for UDP ports 1812/1813</li>
                <li>Verify RADIUS server configuration and status</li>
                <li>Test with a simple RADIUS authentication</li>
                <li>Configure reliable server fallback</li>
              </ul>
              <p><strong>Debugging Commands:</strong></p>
              <ul>
                <li>Cisco: <code>test aaa group radius username password</code>, <code>show radius statistics</code></li>
                <li>Aruba: <code>ping radius-server</code>, <code>show radius statistics</code></li>
                <li>Juniper: <code>ping radius-server</code>, <code>show network-access aaa statistics radius</code></li>
              </ul>
            </div>
          </div>
          
          <div class="issue-item">
            <h5>VLAN Assignment Issues</h5>
            <div class="issue-description">
              <p><strong>Symptoms:</strong> Device authenticates but gets wrong VLAN or no VLAN</p>
              <p><strong>Potential Causes:</strong></p>
              <ul>
                <li>Missing RADIUS attribute in Access-Accept</li>
                <li>VLAN doesn't exist on switch</li>
                <li>Incorrect attribute format</li>
                <li>Dynamic VLAN assignment not enabled</li>
              </ul>
              <p><strong>Solutions:</strong></p>
              <ul>
                <li>Verify RADIUS server sends correct VLAN attributes</li>
                <li>Ensure the VLAN exists on the switch</li>
                <li>Check attribute format (Tunnel-Private-Group-ID)</li>
                <li>Enable dynamic VLAN assignment on the switch</li>
                <li>Check RADIUS packet capture for attribute details</li>
              </ul>
              <p><strong>RADIUS Attributes:</strong></p>
              <ul>
                <li>Tunnel-Type (64) = VLAN (13)</li>
                <li>Tunnel-Medium-Type (65) = 802 (6)</li>
                <li>Tunnel-Private-Group-ID (81) = VLAN ID or name</li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <script src="js/app.js"></script>
</body>
</html>
